#
# Configuration overlay for application debug builds
#
# This overlay enables debug-friendly optimization for the application
# while keeping TF-M optimized for size to fit in flash.
#
# Usage: Build with this overlay applied using the nRF Connect extension
#        or via west command line:
#        west build -b <board> -- -DOVERLAY_CONFIG=overlay-app-debug.conf
#

CONFIG_DEBUG=y
CONFIG_DEBUG_THREAD_INFO=y
# Use debug-friendly optimization for the application (-Og flag)
# This makes debugging easier with better variable visibility and stepping
CONFIG_DEBUG_OPTIMIZATIONS=y

# Override TF-M to use size optimization despite application using debug optimization
# This prevents TF-M from growing too large and not fitting in flash
# MINSIZEREL = "Minimum Size Release" which uses -Os optimization
CONFIG_TFM_CMAKE_BUILD_TYPE_MINSIZEREL=y
